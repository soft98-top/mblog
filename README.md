# mblog

ä¸€ä¸ªç®€å•æ˜“ç”¨çš„é™æ€åšå®¢ç”Ÿæˆå™¨è„šæ‰‹æ¶å·¥å…·ï¼Œå¸®åŠ©ä½ å¿«é€Ÿåˆ›å»ºå’Œç®¡ç†ä¸ªäººåšå®¢ã€‚

## ç‰¹æ€§

- ğŸš€ **å¿«é€Ÿå¯åŠ¨**ï¼šä¸€æ¡å‘½ä»¤åˆ›å»ºå®Œæ•´çš„åšå®¢é¡¹ç›®
- ğŸ“ **Markdown å†™ä½œ**ï¼šä½¿ç”¨ç†Ÿæ‚‰çš„ Markdown æ ¼å¼æ’°å†™æ–‡ç« 
- ğŸ–¼ï¸ **å›¾ç‰‡è‡ªåŠ¨å¤„ç†**ï¼šè‡ªåŠ¨è¯†åˆ«å’Œå¤åˆ¶æ–‡ç« ä¸­çš„ç›¸å¯¹è·¯å¾„å›¾ç‰‡
- ğŸ¨ **ä¸»é¢˜ç³»ç»Ÿ**ï¼šæ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜ï¼Œè½»æ¾æ›´æ¢åšå®¢å¤–è§‚
- ğŸ“ **ç›®å½•ç»“æ„**ï¼šæ”¯æŒå¤šçº§ç›®å½•ç»„ç»‡æ–‡ç« ï¼Œä¿æŒåŸæœ‰ç»“æ„
- ğŸ·ï¸ **æ ‡ç­¾ç³»ç»Ÿ**ï¼šè‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾é¡µå’Œæ ‡ç­¾äº‘
- ğŸ“š **å½’æ¡£é¡µé¢**ï¼šæŒ‰å¹´ä»½å’Œæœˆä»½ç»„ç»‡çš„æ–‡ç« å½’æ¡£
- ğŸ”’ **æ–‡ç« åŠ å¯†**ï¼šæ”¯æŒå¯†ç ä¿æŠ¤çš„ç§å¯†æ–‡ç« 
- ğŸ“¡ **RSS è®¢é˜…**ï¼šè‡ªåŠ¨ç”Ÿæˆ RSS 2.0 è®¢é˜…æº
- ğŸ—ºï¸ **Sitemap**ï¼šè‡ªåŠ¨ç”Ÿæˆæœç´¢å¼•æ“å‹å¥½çš„ç«™ç‚¹åœ°å›¾
- âš™ï¸ **é…ç½®é©±åŠ¨**ï¼šé€šè¿‡ JSON é…ç½®æ–‡ä»¶çµæ´»æ§åˆ¶åšå®¢è¡Œä¸º
- ğŸ”„ **å®Œå…¨ç‹¬ç«‹**ï¼šç”Ÿæˆçš„é¡¹ç›®å®Œå…¨ç‹¬ç«‹ï¼Œä¸ä¾èµ– mblog å·¥å…·
- ğŸ¤– **è‡ªåŠ¨éƒ¨ç½²**ï¼šå†…ç½® GitHub Actions é…ç½®ï¼Œè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²
- ğŸ”€ **åŒä»“åº“æ¨¡å¼**ï¼šæ”¯æŒå†…å®¹ä¸é…ç½®åˆ†ç¦»ï¼Œè‡ªåŠ¨åŒæ­¥éƒ¨ç½²

## å®‰è£…

### é€šè¿‡ pip å®‰è£…

```bash
# æš‚ä¸å¯ç”¨
pip install mblog
```

### ä»æºç å®‰è£…

```bash
git clone https://github.com/soft98-top/mblog.git
cd mblog
pip install -e .
```

## å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºæ–°åšå®¢é¡¹ç›®

```bash
mblog new my-blog
```

åœ¨äº¤äº’å¼æç¤ºä¸­ï¼Œä½ å¯ä»¥é€‰æ‹©ï¼š
- **å•ä»“åº“æ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰ï¼šæ‰€æœ‰å†…å®¹åœ¨ä¸€ä¸ªä»“åº“ä¸­
- **åŒä»“åº“æ¨¡å¼**ï¼šå†…å®¹ä¸é…ç½®åˆ†ç¦»ï¼Œæ”¯æŒè‡ªåŠ¨åŒæ­¥ï¼ˆè¯¦è§[ç‹¬ç«‹å†…å®¹ä»“åº“æ–‡æ¡£](docs/separate-content-repo.md)ï¼‰

è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º `my-blog` çš„ç›®å½•ï¼ŒåŒ…å«ä»¥ä¸‹ç»“æ„ï¼š

```
my-blog/
â”œâ”€â”€ .workflow/          # GitHub Actions é…ç½®
â”‚   â””â”€â”€ deploy.yml
â”œâ”€â”€ md/                 # Markdown æ–‡ç« ç›®å½•ï¼ˆæ”¯æŒå¤šçº§ç›®å½•ï¼‰
â”‚   â”œâ”€â”€ welcome.md
â”‚   â”œâ”€â”€ tech/
â”‚   â”‚   â””â”€â”€ python-tips.md
â”‚   â””â”€â”€ life/
â”‚       â””â”€â”€ travel.md
â”œâ”€â”€ theme/              # ä¸»é¢˜æ–‡ä»¶
â”‚   â”œâ”€â”€ templates/      # æ¨¡æ¿æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ base.html
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ post.html
â”‚   â”‚   â”œâ”€â”€ archive.html
â”‚   â”‚   â””â”€â”€ tags.html
â”‚   â”œâ”€â”€ static/         # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ js/
â”‚   â””â”€â”€ theme.json
â”œâ”€â”€ _mblog/             # ç”Ÿæˆè¿è¡Œæ—¶ï¼ˆç‹¬ç«‹ï¼‰
â”œâ”€â”€ gen.py              # ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ config.json         # é…ç½®æ–‡ä»¶
â””â”€â”€ requirements.txt    # Python ä¾èµ–
```

### 2. è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd my-blog
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. æ’°å†™æ–‡ç« 

åœ¨ `md/` ç›®å½•ä¸­åˆ›å»º Markdown æ–‡ä»¶ã€‚æ”¯æŒå¤šçº§ç›®å½•ç»„ç»‡ï¼Œä¾‹å¦‚ï¼š

- `md/my-first-post.md` - æ ¹ç›®å½•æ–‡ç« 
- `md/tech/python-tips.md` - æŠ€æœ¯åˆ†ç±»æ–‡ç« 
- `md/life/travel/beijing.md` - å¤šçº§åˆ†ç±»æ–‡ç« 

æ–‡ç« ç¤ºä¾‹ `md/my-first-post.md`ï¼š

```markdown
---
title: "æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« "
date: 2025-10-23
tags: ["åšå®¢", "å¼€å§‹"]
author: "ä½ çš„åå­—"
description: "è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« "
---

# æ¬¢è¿

è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ï¼

## å…³äºæˆ‘

æˆ‘æ˜¯ä¸€åå¼€å‘è€…...
```

ç”Ÿæˆçš„æ–‡ç« ä¼šä¿æŒç›®å½•ç»“æ„ï¼š
- `md/tech/python-tips.md` â†’ `public/posts/tech/python-tips.html`

**ä½¿ç”¨å›¾ç‰‡ï¼š**

ä½ å¯ä»¥åœ¨æ–‡ç« ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨å›¾ç‰‡ï¼Œmblog ä¼šè‡ªåŠ¨å¤„ç†ï¼š

```markdown
---
title: "å›¾ç‰‡ç¤ºä¾‹"
date: 2025-10-26
---

# æ–‡ç« æ ‡é¢˜

è¿™æ˜¯ä¸€å¼ å›¾ç‰‡ï¼š

![å›¾ç‰‡æè¿°](./assets/my-image.png)
```

ç›®å½•ç»“æ„ç¤ºä¾‹ï¼š
```
md/
â”œâ”€â”€ my-post.md
â””â”€â”€ assets/
    â””â”€â”€ my-image.png
```

mblog ä¼šè‡ªåŠ¨ï¼š
1. è¯†åˆ«æ–‡ç« ä¸­çš„ç›¸å¯¹è·¯å¾„å›¾ç‰‡
2. å°†å›¾ç‰‡å¤åˆ¶åˆ° `public/assets/images/` ç›®å½•
3. æ›´æ–° HTML ä¸­çš„å›¾ç‰‡è·¯å¾„ä¸ºæ­£ç¡®çš„ç»å¯¹è·¯å¾„

æ”¯æŒçš„å›¾ç‰‡è·¯å¾„æ ¼å¼ï¼š
- `./assets/image.png` - ç›¸å¯¹äºæ–‡ç« çš„è·¯å¾„
- `../images/photo.jpg` - ä¸Šçº§ç›®å½•çš„å›¾ç‰‡
- å¤–éƒ¨é“¾æ¥ï¼ˆ`https://...`ï¼‰ä¼šä¿æŒä¸å˜

**åŠ å¯†æ–‡ç« ï¼š**

å¦‚æœä½ æƒ³åˆ›å»ºéœ€è¦å¯†ç æ‰èƒ½æŸ¥çœ‹çš„ç§å¯†æ–‡ç« ï¼Œåªéœ€åœ¨ frontmatter ä¸­æ·»åŠ åŠ å¯†é…ç½®ï¼š

```markdown
---
title: "æˆ‘çš„ç§å¯†æ—¥è®°"
date: 2025-10-26
tags: ["ç§å¯†"]
encrypted: true
password: "my-secret-password"
---

è¿™æ˜¯åªæœ‰çŸ¥é“å¯†ç çš„äººæ‰èƒ½çœ‹åˆ°çš„å†…å®¹...
```

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [åŠ å¯†æ–‡ç« æ–‡æ¡£](docs/encrypted-posts.md)ã€‚

### 5. ç”Ÿæˆé™æ€æ–‡ä»¶

```bash
python gen.py
```

ç”Ÿæˆçš„é™æ€æ–‡ä»¶å°†ä¿å­˜åœ¨ `public/` ç›®å½•ä¸­ã€‚

### 6. æœ¬åœ°é¢„è§ˆ

ä½ å¯ä»¥ä½¿ç”¨ Python çš„å†…ç½® HTTP æœåŠ¡å™¨é¢„è§ˆï¼š

```bash
cd public
python -m http.server 8000
```

ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:8000`

### 7. éƒ¨ç½²åˆ° GitHub Pages

1. åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ä»“åº“
2. å°†é¡¹ç›®æ¨é€åˆ° GitHubï¼š

```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/your-username/my-blog.git
git push -u origin main
```

3. åœ¨ä»“åº“è®¾ç½®ä¸­å¯ç”¨ GitHub Pagesï¼Œé€‰æ‹© `gh-pages` åˆ†æ”¯
4. æ¯æ¬¡æ¨é€ä»£ç æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²ä½ çš„åšå®¢

## å‘½ä»¤å‚è€ƒ

### mblog new

åˆ›å»ºæ–°çš„åšå®¢é¡¹ç›®ã€‚

```bash
mblog new <project_name>
```

**å‚æ•°ï¼š**
- `<project_name>`ï¼šé¡¹ç›®åç§°ï¼ˆå¿…éœ€ï¼‰

**ç¤ºä¾‹ï¼š**
```bash
mblog new my-awesome-blog
```

### mblog --help

æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚

```bash
mblog --help
# æˆ–
mblog -h
```

### mblog --version

æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚

```bash
mblog --version
# æˆ–
mblog -v
```

## é…ç½®

ç¼–è¾‘ `config.json` æ–‡ä»¶æ¥è‡ªå®šä¹‰ä½ çš„åšå®¢ï¼š

```json
{
  "site": {
    "title": "æˆ‘çš„åšå®¢",
    "description": "è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢",
    "author": "ä½ çš„åå­—",
    "url": "https://yourusername.github.io",
    "language": "zh-CN"
  },
  "build": {
    "output_dir": "public",
    "theme": "default",
    "generate_rss": true,
    "generate_sitemap": true
  },
  "theme_config": {
    "posts_per_page": 10,
    "date_format": "%Y-%m-%d",
    "show_toc": true,
    "enable_tags": true,
    "enable_archive": true
  }
}
```

è¯¦ç»†çš„é…ç½®è¯´æ˜è¯·å‚è€ƒ [é…ç½®æ–‡æ¡£](docs/configuration.md)ã€‚

## ä¸»é¢˜å¼€å‘

mblog æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜ã€‚ä½ å¯ä»¥ä¿®æ”¹ `theme/` ç›®å½•ä¸­çš„æ–‡ä»¶æ¥è‡ªå®šä¹‰åšå®¢å¤–è§‚ã€‚

ä¸»é¢˜ç»“æ„ï¼š

```
theme/
â”œâ”€â”€ theme.json          # ä¸»é¢˜å…ƒæ•°æ®
â”œâ”€â”€ templates/          # æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ base.html      # åŸºç¡€å¸ƒå±€
â”‚   â”œâ”€â”€ index.html     # é¦–é¡µ
â”‚   â”œâ”€â”€ post.html      # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ archive.html   # å½’æ¡£é¡µ
â”‚   â””â”€â”€ tags.html      # æ ‡ç­¾ç´¢å¼•é¡µ
â””â”€â”€ static/            # é™æ€èµ„æº
    â”œâ”€â”€ css/
    â”‚   â””â”€â”€ style.css
    â””â”€â”€ js/
        â””â”€â”€ main.js
```

è¯¦ç»†çš„ä¸»é¢˜å¼€å‘æŒ‡å—è¯·å‚è€ƒ [ä¸»é¢˜å¼€å‘æ–‡æ¡£](docs/theme-development.md)ã€‚

## æ–‡æ¡£

- [é…ç½®æ–‡æ¡£](docs/configuration.md) - è¯¦ç»†çš„é…ç½®é€‰é¡¹è¯´æ˜
- [ä¸»é¢˜å¼€å‘æ–‡æ¡£](docs/theme-development.md) - å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ä¸»é¢˜
- [åŠ å¯†æ–‡ç« æ–‡æ¡£](docs/encrypted-posts.md) - å¦‚ä½•åˆ›å»ºå¯†ç ä¿æŠ¤çš„æ–‡ç« 
- [ç‹¬ç«‹å†…å®¹ä»“åº“æ–‡æ¡£](docs/separate-content-repo.md) - å†…å®¹ä¸é…ç½®åˆ†ç¦»çš„åŒä»“åº“æ¨¡å¼
- [åŒä»“åº“å®æˆ˜ç¤ºä¾‹](docs/dual-repo-example.md) - ä»é›¶æ­å»ºå›¢é˜Ÿåšå®¢çš„å®Œæ•´ç¤ºä¾‹
- [éƒ¨ç½²æ–‡æ¡£](docs/deployment.md) - éƒ¨ç½²åˆ°å„ç§å¹³å°çš„æŒ‡å—

## é¡¹ç›®ç»“æ„

ç”Ÿæˆçš„åšå®¢é¡¹ç›®æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œä¸ä¾èµ– mblog å·¥å…·æœ¬èº«ã€‚è¿™æ„å‘³ç€ï¼š

- ä½ å¯ä»¥è‡ªç”±ä¿®æ”¹ç”Ÿæˆçš„ä»£ç 
- ä¸éœ€è¦å®‰è£… mblog å·¥å…·å°±èƒ½ç”Ÿæˆé™æ€æ–‡ä»¶
- æ‰€æœ‰ç”Ÿæˆé€»è¾‘éƒ½åœ¨ `_mblog/` ç›®å½•ä¸­

## æ¨¡æ¿ç³»ç»Ÿ

mblog ä½¿ç”¨æ¨¡æ¿ç³»ç»Ÿç”Ÿæˆé¡¹ç›®æ–‡ä»¶ï¼Œæ‰€æœ‰æ¨¡æ¿ä½äº `mblog/templates/project/` ç›®å½•ï¼š

- é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼ˆconfig.json, requirements.txt ç­‰ï¼‰
- éƒ¨ç½²é…ç½®æ¨¡æ¿ï¼ˆå•ä»“åº“å’ŒåŒä»“åº“æ¨¡å¼ï¼‰
- æ–‡æ¡£æ¨¡æ¿ï¼ˆSETUP_GUIDE.mdï¼‰

æ¨¡æ¿æ”¯æŒå˜é‡æ›¿æ¢ï¼Œå¦‚ `{{CONTENT_REPO_URL}}` å’Œ `{{PROJECT_NAME}}`ã€‚è¯¦è§ [æ¨¡æ¿ç³»ç»Ÿæ–‡æ¡£](mblog/templates/project/README.md)ã€‚

## ä¾èµ–

mblog ä½¿ç”¨ä»¥ä¸‹ Python åº“ï¼š

- `markdown` - Markdown è½¬ HTML
- `Jinja2` - æ¨¡æ¿å¼•æ“
- `python-frontmatter` - Frontmatter è§£æ
- `PyYAML` - YAML è§£æ

## å¼€å‘

### è¿è¡Œæµ‹è¯•

```bash
pip install -r requirements-dev.txt
pytest
```

### ä»£ç æ ¼å¼åŒ–

```bash
black mblog tests
```

### ç±»å‹æ£€æŸ¥

```bash
mypy mblog
```

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Issue æˆ– Pull Requestã€‚

## è®¸å¯è¯

MIT License

## å¸¸è§é—®é¢˜

### å¦‚ä½•æ·»åŠ æ–°æ–‡ç« ï¼Ÿ

åœ¨ `md/` ç›®å½•ä¸­åˆ›å»ºæ–°çš„ Markdown æ–‡ä»¶ï¼Œç„¶åè¿è¡Œ `python gen.py` é‡æ–°ç”Ÿæˆã€‚æ”¯æŒåœ¨å­ç›®å½•ä¸­ç»„ç»‡æ–‡ç« ã€‚

### å¦‚ä½•ç»„ç»‡æ–‡ç« åˆ†ç±»ï¼Ÿ

åœ¨ `md/` ç›®å½•ä¸‹åˆ›å»ºå­ç›®å½•ï¼Œä¾‹å¦‚ `md/tech/`ã€`md/life/`ã€‚ç”Ÿæˆçš„ HTML ä¼šä¿æŒç›¸åŒçš„ç›®å½•ç»“æ„ã€‚

### å¦‚ä½•æ›´æ”¹ä¸»é¢˜ï¼Ÿ

ä¿®æ”¹ `theme/` ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œæˆ–è€…åˆ›å»ºæ–°çš„ä¸»é¢˜ç›®å½•å¹¶åœ¨ `config.json` ä¸­æŒ‡å®šã€‚

### ç”Ÿæˆçš„æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ

é»˜è®¤åœ¨ `public/` ç›®å½•ä¸­ï¼Œå¯ä»¥é€šè¿‡ `config.json` ä¸­çš„ `build.output_dir` é…ç½®ä¿®æ”¹ã€‚

### å¦‚ä½•ç¦ç”¨ RSS æˆ– Sitemapï¼Ÿ

åœ¨ `config.json` ä¸­è®¾ç½® `build.generate_rss` æˆ– `build.generate_sitemap` ä¸º `false`ã€‚

### RSS è®¢é˜…åœ°å€æ˜¯ä»€ä¹ˆï¼Ÿ

ç”Ÿæˆçš„ RSS æ–‡ä»¶ä½äº `public/rss.xml`ï¼Œè®¿é—®åœ°å€ä¸º `https://your-site.com/rss.xml`ã€‚

### å¦‚ä½•åˆ›å»ºåŠ å¯†æ–‡ç« ï¼Ÿ

åœ¨æ–‡ç« çš„ frontmatter ä¸­æ·»åŠ  `encrypted: true` å’Œ `password: "å¯†ç "`ï¼Œè¯¦è§ [åŠ å¯†æ–‡ç« æ–‡æ¡£](docs/encrypted-posts.md)ã€‚

### å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰é¡µé¢ï¼Ÿ

åœ¨ `theme/templates/` ä¸­åˆ›å»ºæ–°çš„æ¨¡æ¿æ–‡ä»¶ï¼Œå¹¶åœ¨ `_mblog/generator.py` ä¸­æ·»åŠ ç”Ÿæˆé€»è¾‘ã€‚

### æ”¯æŒå“ªäº› Markdown æ‰©å±•ï¼Ÿ

mblog ä½¿ç”¨ Python-Markdown åº“ï¼Œæ”¯æŒï¼š
- è¡¨æ ¼ã€ä»£ç å—ã€è„šæ³¨ç­‰æ‰©å±•è¯­æ³•
- ä»£ç é«˜äº®
- ç›®å½•ç”Ÿæˆ
- æ›´å¥½çš„åˆ—è¡¨å¤„ç†

## è”ç³»æ–¹å¼

- GitHub: https://github.com/soft98-top/mblog
- Issues: https://github.com/soft98-top/mblog/issues

---

ç”¨ â¤ï¸ å’Œ Python æ„å»º
