# æœç´¢è·³è½¬404é—®é¢˜ - å¿«é€Ÿä¿®å¤å‚è€ƒ

## é—®é¢˜ç—‡çŠ¶
- âœ… æœç´¢åŠŸèƒ½å¯ä»¥æ­£å¸¸æœç´¢
- âŒ ç‚¹å‡»æœç´¢ç»“æœåè·³è½¬404
- ğŸ” åªåœ¨å­è·¯å¾„éƒ¨ç½²æ—¶å‡ºç°ï¼ˆå¦‚ `xx.com/myblog/`ï¼‰

## åŸå› 
æœç´¢ç´¢å¼•ä¸­çš„URLç¼ºå°‘ `base_path` å‰ç¼€

## è§£å†³æ–¹æ¡ˆ

### 1. ç¡®è®¤é…ç½®
æ£€æŸ¥ `config.json` ä¸­çš„ `base_path` è®¾ç½®ï¼š

```json
{
  "site": {
    "base_path": "/myblog"  // ğŸ‘ˆ ä½ çš„éƒ¨ç½²å­è·¯å¾„
  }
}
```

### 2. é‡æ–°ç”Ÿæˆ
è¿è¡Œç”Ÿæˆå‘½ä»¤ï¼š

```bash
python gen.py
```

### 3. éªŒè¯ä¿®å¤
æ£€æŸ¥ `public/search-index.json`ï¼š

```json
{
  "posts": [
    {
      "url": "/myblog/posts/article.html"  // âœ… åº”è¯¥åŒ…å« base_path
    }
  ]
}
```

## é…ç½®ç¤ºä¾‹

### GitHub Pages
```json
{
  "site": {
    "url": "https://username.github.io",
    "base_path": "/repository-name"
  }
}
```

### æœåŠ¡å™¨å­ç›®å½•
```json
{
  "site": {
    "url": "https://example.com",
    "base_path": "/blog"
  }
}
```

### æ ¹ç›®å½•éƒ¨ç½²
```json
{
  "site": {
    "url": "https://myblog.com",
    "base_path": ""  // æˆ–ä¸è®¾ç½®
  }
}
```

## éªŒè¯æ­¥éª¤

1. **æ£€æŸ¥æœç´¢ç´¢å¼•**
   ```bash
   cat public/search-index.json | grep "url"
   ```
   åº”è¯¥çœ‹åˆ°ï¼š`"url": "/myblog/posts/..."`

2. **æµ‹è¯•æœç´¢åŠŸèƒ½**
   - æ‰“å¼€åšå®¢é¦–é¡µ
   - åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯
   - ç‚¹å‡»æœç´¢ç»“æœ
   - åº”è¯¥èƒ½æ­£å¸¸è®¿é—®æ–‡ç«  âœ…

3. **æ£€æŸ¥RSSå’ŒSitemap**
   ```bash
   cat public/rss.xml | grep "<link>"
   cat public/sitemap.xml | grep "<loc>"
   ```
   æ‰€æœ‰é“¾æ¥éƒ½åº”è¯¥åŒ…å« base_path

## å¸¸è§é—®é¢˜

### Q: æˆ‘å·²ç»è®¾ç½®äº† base_pathï¼Œä½†è¿˜æ˜¯404ï¼Ÿ
A: é‡æ–°è¿è¡Œ `python gen.py` ç”Ÿæˆæ–°çš„æœç´¢ç´¢å¼•

### Q: æ ¹ç›®å½•éƒ¨ç½²éœ€è¦è®¾ç½® base_path å—ï¼Ÿ
A: ä¸éœ€è¦ï¼Œè®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸² `""` æˆ–ä¸è®¾ç½®å³å¯

### Q: base_path éœ€è¦åŠ æ–œæ å—ï¼Ÿ
A: ä¸éœ€è¦ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§„èŒƒåŒ–ï¼š
- `myblog` â†’ `/myblog` âœ…
- `/myblog` â†’ `/myblog` âœ…
- `/myblog/` â†’ `/myblog` âœ…

### Q: ä¿®å¤åéœ€è¦æ›´æ–°ä»€ä¹ˆï¼Ÿ
A: åªéœ€è¦é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä¸éœ€è¦ä¿®æ”¹ä»£ç 

## æŠ€æœ¯ç»†èŠ‚

ä¿®å¤æ¶‰åŠ3ä¸ªæ–‡ä»¶ç”Ÿæˆæ–¹æ³•ï¼š
1. `_generate_search_index()` - æœç´¢ç´¢å¼•
2. `_generate_rss()` - RSSè®¢é˜…
3. `_generate_sitemap()` - ç½‘ç«™åœ°å›¾

æ‰€æœ‰URLç°åœ¨éƒ½ä¼šè‡ªåŠ¨åŒ…å« `base_path`ã€‚

## æ›´å¤šä¿¡æ¯

- [å®Œæ•´ä¿®å¤æ–‡æ¡£](./BASEPATH_URL_FIX.md)
- [ä¿®å¤æ€»ç»“](./BASEPATH_FIX_SUMMARY.md)
- [éƒ¨ç½²æŒ‡å—](./deployment.md)
